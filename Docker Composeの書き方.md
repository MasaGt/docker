### 定義の書き方

```
(version: "[このcomposeファイル形式のバージョン]")

services:
  [作成するコンテナ名1]:
    image:
      [作成元のイメージ名]:[バージョン]
    networks:
      - [接続するネットワーク名]
    ports:
      - [ホスト側のポート番号]:[コンテナ側のポート番号]
    volumes:
      # ↓(ボリュームマウントの場合)
      - [ボリューム名]:[コンテナ側パス]

      # ↓(バインドマウントの場合)
      - "[ホスト側パス]:[コンテナ側パス]" 
      *↑の指定方法(short syntax)でバインドマウントは避けた方がいいらしい

      - type:
        bind
         source: "[ホスト側パス]"
         target: "[コンテナ側パス]"
      *↑の指定方法(long syntax)でバインドマウントはした方がいい


    (restart:
      コンテナが停止したときの再試行ポリシーの設定
      起動に失敗したときの再起動ポリシーの設定
      noやalways等がある
    )


  [作成するコンテナ名2]:
    ...
    environment:
      [環境変数名]=[実際の値]
      # WORDPRESS_DB_HOST=[DBコンテナ名]

    depends_on:
      - [このコンテナより先に作成するコンテナ名]

networks:
  [作成するネットワーク名]:
volumes:
  [作成するボリューム名]:
```

<br>

*その他にもいろいろな項目が設定できる  

*short syntaxでバインドマウントを避けた方がいい理由(https://zenn.dev/sarisia/articles/0c1db052d09921)

↑shortの場合、ホスト側に対象のファイル/フォルダがないと、自動的に対象フォルダを作成する。  

自動で作成されるのは常にrootが所有者のディレクトリであるため、short syntaxでバインドマウントが失敗するといくつかの問題が発生する可能性がある。

問題1: rootユーザーでしかアクセスできないため、コンテナのアプリからではアクセス権限を変更しない限りアクセスできない

問題2: そもそも、ファイルをバインドマウントしたつもりでも、(short syntaxで)失敗するとフォルダが作成されてしまう。